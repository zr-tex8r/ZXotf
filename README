============================================
== ZXotf バンドル v0.2a  <2009/11/18>     ==
==          by ZR <zrbabbler@infoseek.jp> ==
============================================
(This file is encoded in UTF-8,)
Adobe-Japan1 のグリフ集合をもつ CID-keyed OpenType フォントについて、
XeLaTeX で CID 番号によるグリフ出力を可能にする。齋藤修三郎氏作の OTF
パッケージの \CID 命令を XeLaTeX で使うためものなので ZXotf という名前に
した。

■ 対応環境

    ・TeX 処理系：XeLaTeX
    ・前提パッケージ：
      BXbase パッケージ 0.4版以降
      http://zrbabbler.hp.infoseek.co.jp/pxbase.html
      あと、macros オプションを使う場合は OTF パッケージ(齋藤修三郎氏)が
      必要になる。

■ 本ソフトウェアの一次配布サイト(作者のサイト)

    En toi Pythmeni tes TeXnopoleos ～電脳世界の奥底にて～
    http://zrbabbler.hp.infoseek.co.jp/

    ※ 以下のページに一部機能の使用例を紹介した。
    「ZXotf パッケージ」
    http://zrbabbler.hp.infoseek.co.jp/zxotf.html


■ インストール

    TDS 1.1 に従ったシステムでは、各ファイルを次の場所に移動する。
    ・zxotf.sty      → $TEXMF/tex/xelatex/zxotf/
    ・zxotc2u.tfm    → $TEXMF/fonts/tfm/public/zxotf/

    W32TeX を C:\usr\local にインストールした場合は次のようになる。
    ・zxotf.sty   → C:\usr\local\share\texmf-local\tex\xelatex\zxotf
    ・zxotc2u.tfm → C:\usr\local\share\texmf-local\fonts\tfm\public\zxotf

    ※ XeTeX なのに TFM ファイルが要るのは、フォントとは全く別の目的で
    使われているからである。


----------------------------------
 zxotf パッケージ (v0.2a) -- 本体
----------------------------------

■ 読込

    プレアンブルにおいて、\usepackage を用いて読み込む。
                                      
      \usepackage[<オプション>,...]{zxotf}

    オプションは次のものが用意されている。

    macros
      OTF パッケージの ajmacros.sty を読み込む。
    nomacros (既定)
      OTF パッケージの ajmacros.sty を読み込まない。

■ 機能

  ・Adobe-Japan1 CID 入力

    \CID{<符号値>}
      指定された Adobe-Japan1 の CID のグリフを出力する。
    \UTF{<符号値>}
      指定された Unicode 値の文字を出力する。(これは該当の文字を直接書く
      のと同じで、フォント切替等は行わない。)

    bxbase の \AJ は zxotf の \CID と連携する。zxotf 自身が bxbase を内部
    で読み込むので次の命令も使えることになる。

    \AJ{<符号値>,...}    [bxbase の命令]
      \CID と同じだが、複数入力指定可能。

  ・Adobe-Japan1 グリフ集合用のフォント設定

    \setcidminchofont[<属性リスト>]{<フォントファミリ名>}
    \setcidgothicfont[<属性リスト>]{<フォントファミリ名>}
      \CID によるグリフを出力するのに用いるフォント(ファミリ)を指定する。
      \setcidminchofont は明朝体、\setcidgothicfont はゴシック体を想定
      していて、現在のファミリが \sffamily か \ttfamily の場合はゴシック、
      \rmfamily の場合は明朝が使われる。<属性リスト> と <フォントファミリ
      名> の指定方法は fontspec のものと同じである。

      指定されていない場合は、現在のフォントがそのまま使われる。(zxjatype
      読込時は、まず和文フォントに切り替える。) 既定値は無指定である。

■ OTF パッケージの ajmacros.sty 読込機能

    パッケージオプションに macros を指定すると、OTF パッケージの ajmacros
    を読み込む(OTF パッケージが正しくインストールされていれば読み込める
    はずである)。これで、ajmacros で提供される \ajMaru、\ajLig、\○ 等の
    AJ1 の多様な文字(グリフ)を明快な名前で入力する命令が使えるようになる。

    ajmacros.sty の文字コードは UTF-8 または ISO-2022-JP (JIS エンコーディ
    ング)である必要がある。pLaTeX 用のパッケージファイルは ISO-2022-JP に
    しているシステムが多いので ISO-2022-JP を読めるようにしているのだが、
    この場合、\aj半角 等の一部の命令が正常に動作しないようである。この
    問題を避けるには、ajmacros.sty を UTF-8 に変換したものを zxotf.sty と
    同じディレクトリに置けばよい。この場合でも、pTeX/upTeX からは従来の
    ISO-2022-JP のものが使われるはずである。

■ Unicode 出力によるエミュレート

    AJ1 用に指定されたフォント(無指定で現在のものがそのまま使われる場合も
    含む)が CID-keyed でない場合は、非漢字に限って Unicode 入力による
    エミュレートが行われる。すなわち、指定の AJ1 のグリフに直接対応する
    Unicode がある場合はその文字が出力され、ない場合(および漢字の場合)は
    ゲタ記号(〓)が出力される。漢字を省いたのは、異体字の問題があって対応
    が単純でないという他に、そもそもこの機能が専ら ajmacros を利用する為
    のものと考えられるからである。(だから \ajHashigoTaka, \ajTsuchiYoshi,
    \ajTatsuSaki は特別に対応している。)


----------------------------------------

■ 更新履歴

    version 0.2a <2009/11/18>

    version 0.2 <2009/11/16>
      最初の公開版。

# EOF
